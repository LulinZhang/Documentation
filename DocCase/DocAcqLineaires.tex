\documentclass[11pt,a4paper,oneside]{book}
\usepackage[utf8]{inputenc}
\usepackage[english]{babel}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{graphicx}
\usepackage{lmodern}
\usepackage{lscape}
\usepackage{caption}
%
\author{l'équipe de MicMac}
\title{Traitement photogrammétrique des acquisitions linéaires avec l'outil MicMac}
%
\begin{document}
\maketitle
\tableofcontents
%%%%%%%%%%%%%%%%%%%%%%%% 
\chapter{Desciption of the dataset}
generally and the dataset processed here

%%%%%%%%%%%%%%%%%%%%%%%% 
\chapter{Estimation des poses}

\section{Orientation interne et relatif -- auto-calibration}
Pour la calibration d'une acquisition linéaire avec peu de points de contrôle on utilise les modèles de distorsion unifié (\textit{Unified polynomial model}). 
La distorsion finale d'une camera sera une composition de plusieurs modèles de distorsion (par example une composition des polynômes radiaux et génériques). Le traitement se déroule dans 3 étapes:
%
\begin{enumerate}
\item \textbf{pre-calibration}, sur un sous-ensemble d'images, où seulement la focal $f$ et le point principal $pp$ sont considérés comme les paramètres libres;
\item \textbf{calibration avec l'approche standard étendu} qui a pour but corriger davantage erreurs causés par les imprécisions de la lentille et du capteur; cette fois-ci les erreurs sont {de la nature physique} (\underline{l’approche physique}) et on le corrige avec des polynômes radiaux, decentriques ainsi qu'avec une fonction affine; sur un sous-ensemble d'images ou l'ensemble entier; les paramètres libres sont:
	\begin{itemize}
	\item la focal $f$,
	\item le points principal $pp$,
	\item trois paramètres de la distorsion radiale symétrique ($R^3$, $R^5$, $R^7$),
	\item (optionnel) quatre paramètres de la distorsion asymétrique (decentrique) (pôlynom du degré 2)
	\item deux paramètres de la distorsion affine 
	\end{itemize}
\item \textbf{calibration finale très fine} a pour but corriger les erreurs résiduelles non-radial avec les polynômes génériques du haute degré, sans se poser des questions sur la nature des erreurs (\underline{l’approche phénoménologique}); à ce stade, la calibration obtenu dans l'étape précédent est considère constant alors que en cours du traitement les coefficients du polynôme générique vont être estimés.
\end{enumerate}


%\subsection{Pre-calibration}
%\subsection{Calibration avec l'approche standard étendu}
%\subsection{Calibration finale très fine (approche étendu à corriger les erreurs résiduelles de nature non-radial)}

\section{Paramétrage dans MicMac}
%
Dans MicMac il y a quatre fonctions qui gèrent toutes les transformation de la calibration ($R2 \rightarrow R2$) appliqués dans le plan focal (l'image) :
\begin{itemize}
\item les polynômes radiaux (en utilisant le modèle {F\tt ourXXx2} le degré est modifié par le DegRadMax) (dans DocMicMac Eq. 14.11 et A.15 )
\item les polynômes decentriques (en utilisant le modèle { \tt FourXXx2} le degré est modifié par le DegGen) (dans DocMicMac Eq. A23, A.24) 
\item les polynômes générique (dans le modèle {\tt AddPolyX})
\item la fonction affine (2 termes liberé si DegGen=\{1,2\}, dans DocMicMac Eq. A.10)
\end{itemize}
%
\paragraph{Pre-calibration et calibration étendu}
%
Le modèle utilisé dans les deux premiers étapes est du type {\tt <ModUnif>}\footnote{voir le tag {\tt <CalibDistortion>} dans {\tt ParamChantierPhotogram.xml} pour apprendre d'autres types}, appelé depuis la ligne de commande par {\tt mm3d Tapas} avec un de modèels suivantes: {\tt Four7x2, Four15x2, Four19x2}. Le tableau~\ref{tab:fourXX} contient une récapitulatif sur les differentes modèles et leur paramètres. Vous voyez que en jouant avec les arguments {\tt DegRadMax} et {\tt DegGen} on arrive aux modèles classiques comme {\tt FraserBasic}, {\tt RadialBasic} ou {\tt  RadialExtended}. Pre-calibration et calibration étendu modélise les erreurs d'un capteur avec les polynômes radiaux, decentriques, et la fonction affine.
%
\paragraph{Calibration finale très fine}
%
Dans l'étape dernier on utilise le modèle {\tt AddPolyX} qui est du type {\tt <ModUnif>}. En le faisant, MicMac garde le paramètres internes d'entre (calculé dans le pas précédent) figées, et ajoute une transformation en plus. Ainsi, toutes le pixels dans l'image subi un double décalage. La deuxième transformation est un polynôme générique et ses paramètres sont inconnu ainsi ils sont élu en cours de traitement.
\\
\\
La nomenclature dans MicMac e.g. {\tt mm3d Tapas ...}\\
{\tt AddPolyDeg2 (=AddPolyDeg2 DegGen=2)} – polynôme générique de degré 2\\ 
{\tt AddPolyDeg3 (=AddPolyDeg2 DegGen=3)} – polynôme générique de degré 3 

%
\begin{landscape}
\begin{tabular} { | c | c | c | c| c| c |}  
 \hline
{\bf Polynômes  }        &  {Radial polynôme  } & {Center of distortion  } & {Decentrique polynôme} &  {Affine terme } &  {Somm}  \\ 
{ Unified distortion model } & { ($R^3$, $R^5$ … )} & {($Cx, Cy$)} & {(A25-30 ; DegGen=2)} &  { A.10)} &  { }  \\  \hline \hline

{\tt Four19x2} & 11 & 2 & 4 & 2 & 19 \\  \hline

{\tt Four15x2} & 7 & 2 & 0  & 2  & 11 \\ \hline

{\tt Four15x2}  DegGen=1 & 7 & 2 & 0 & 2 & 11  \\ \hline
 

{\tt Four15x2} DegGen=2 & 7 &  2 & 4 & 2 & 15  \\ \hline
 

{\tt Four15x2} & 0 & 0 & 0 & 2 & 2 \\
DegRadMax=0 & & & & & \\
DegGen=1  & & & & & \\ \hline

{\tt Four15x2} & 0 & 0 & 0 & 0 & 0 \\
DegRadMax=0 & & & & & \\
DegGen=0 & & & & & \\ \hline

{\tt Four15x2} & 0 & 0 & 4 & 2 & 6 \\
DegRadMax=0 & & & & & \\
DegGen=2 & & & & & \\ \hline

{\tt Four15x2} & 1 & 2 & 4 & 2 & 9 \\
DegRadMax=1 & & & & & \\
DegGen=2 & & & & & \\ \hline


{\tt Four15x2 } & 3 & 2 & 0 & 2 & 7 \\  
DegRadMax=3 & & & & & \\ \hline


{\tt Four15x2} & 3 & 2 & 0 & 0 & 5 \\
DegRadMax=3 & & & & & \\
DegGen=0 & & & & & \\ \hline \hline

\end{tabular}\captionof{table}{Une liste (pas exhaustif) de modèles étendu de camera et leur parameters.}\label{tab:fourXX}
\end{landscape}
%
\paragraph{Paramétrage dans les fichiers xml}
moze jednak zrob subsekcje dla pre-calibr etc i wlacz parametry xml tam
%
\section{Orientation absolut -- geo-référencement}
%\subsection{Orientation relatif}
%\subsection{Orientation absolut -- geo-référencement}

\section{Traitement dans MicMac}



\subsubsection{Les commandes}

%%%%%%%%%%%%%%%%%%%%%%%% 
\chapter{Mise en correspondance et production d'une orthomosaic}

\section{Les géométries du traitement}
\section{L’algorithme d'appariement dense et ses paramètres}
\section{Traitement dans MicMac}
\end{document}